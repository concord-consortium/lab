<?xml version="1.0" encoding="ISO-8859-1"?>
<document>
<language>ISO-8859-1</language>
<page_title>Pcf</page_title>
<bg_image>sidebar2.gif</bg_image>
<text>Pcf

&lt; Previous | Index | Next &gt;

The pcf command computes and shows the pair correlation function (PCF) between the specified pair of elements within the specified rectangular area.

Syntax:

pcf [expression]
pcf [expression_1] and [expression_2] and ...... and [expression_n]

An expression can have one of the following forms:

   [id1] [id2] [length] within ([x], [y], [w], [h])
   [id1] [id2] [length]

where id1 and id2 are the ID numbers of elements, length is the length in angstroms for which the PCF will be generated, x and y are the coordinate of the upper-left corner of the selected rectangular area, and w and h are its width and height. The second covers the whole area, which is equivalent to:

[id1] [id2] [length] within (0, 0, %width, %height)

where %width and %height are the width and height of the model container&apos;s window defined as system variables.

You use multiple expressions to plot multiple PCFs in the same graph. Note that you must write every thing after the pcf keyword in a single line and separate different PCF parameter sets with the &quot;and&quot; keyword. The within clause can be skipped if you select the whole container.

 
Element IDs: The ID numbers for elements are defined as follows: Nt: 0; Pl: 1; Ws: 2; Ck: 3. For IDs of the non-editable elements, see this list.
 

PCFs are useful in analyzing structures. Localized PCF analysis can be used to identify the state of atoms in a certain area. This allows us to compute the PCF for each phase in a multi-phase system. 

 
Note: If the recorder is disabled, this command has no effect.
Caution: You should generally use this command once per script execution. Avoid using it within a loop.
 

The following model demonstrates the use of this command to show the pair correlation functions in different areas of the same homogeneous system under periodic boundary conditions.

 
 
[This is an embedded simulator.]

The three PCFs generated from the above buttons should be identical, confirming the homogeneousity of the system in thermal equilibrium. To achieve this nice result in the above analysis, we had to use a trick to exclude areas that are near the boundary. The colored rectangular areas in the above model show the areas cut out for computing the PCFs in the left and right part, respectively. In the following, we will demonstrate the boundary effect.

Eliminating the boundary effect

When a reflecting boundary is used, a PCF that includes areas close to the boundary will be affected. A typical effect we observe is that the PCF for a fluid will converge to a number that is lower than unity. Although this is reasonable --- the particles near the border see no particle beyond it and therefore the distribution function must on average reduce as a result of this side effect, you may sometimes want to avoid this problem. The following model shows that you can compute the PCF based on a rectangular cut-out that retreats from the reflecting boundary, which converges to unity because the particles near the boundary are not counted. You can compare the cut-out PCF with the one based on counting all particles in the container.

 
 
[This is an embedded simulator.]

Even if a periodic boundary is used, it does not necessarily mean that localized PCFs will be immune from errors. When you select a smaller area, the border that cuts it out from the larger one may have an effect. That is why in the first model on this page, we also had to restrict PCF calculations to cut-out areas.

&lt; Previous | Index | Next &gt;</text>
<section start="0" end="3522">
<paragraph start="0" end="4">
<RightIndent>20.0</RightIndent>
<Alignment>2</Alignment>
<content start="0" end="3">
<bold>true</bold><size>16</size><italic>true</italic></content>

<content start="3" end="4">
</content>

</paragraph>
<paragraph start="4" end="5">
<RightIndent>20.0</RightIndent>
<Alignment>2</Alignment>
<content start="4" end="5">
</content>

</paragraph>
<paragraph start="5" end="33">
<RightIndent>20.0</RightIndent>
<Alignment>2</Alignment>
<content start="5" end="7">
<size>11</size></content>

<content start="7" end="15">
<size>11</size><href>script_lap.cml</href></content>

<content start="15" end="18">
<size>11</size></content>

<content start="18" end="23">
<size>11</size><href>mwscripts.cml</href></content>

<content start="23" end="26">
<size>11</size></content>

<content start="26" end="30">
<size>11</size><href>script_tcf.cml</href></content>

<content start="30" end="32">
<size>11</size></content>

<content start="32" end="33">
</content>

</paragraph>
<paragraph start="33" end="34">
<LeftIndent>100.0</LeftIndent>
<content start="33" end="34">
</content>

</paragraph>
<paragraph start="34" end="183">
<LeftIndent>140.0</LeftIndent>
<content start="34" end="38">
<size>11</size></content>

<content start="38" end="41">
<size>11</size><family>Courier New</family></content>

<content start="41" end="73">
<size>11</size></content>

<content start="73" end="98">
<size>11</size><href>glossary/pcf.cml</href></content>

<content start="98" end="183">
<size>11</size></content>

</paragraph>
<paragraph start="183" end="184">
<LeftIndent>140.0</LeftIndent>
<content start="183" end="184">
<size>11</size></content>

</paragraph>
<paragraph start="184" end="192">
<LeftIndent>140.0</LeftIndent>
<content start="184" end="192">
<size>11</size></content>

</paragraph>
<paragraph start="192" end="193">
<LeftIndent>140.0</LeftIndent>
<content start="192" end="193">
<size>11</size><family>Courier New</family></content>

</paragraph>
<paragraph start="193" end="210">
<LeftIndent>160.0</LeftIndent>
<content start="193" end="196">
<bold>true</bold><size>11</size><family>Courier New</family></content>

<content start="196" end="210">
<size>11</size><family>Courier New</family></content>

</paragraph>
<paragraph start="210" end="278">
<LeftIndent>160.0</LeftIndent>
<content start="210" end="213">
<bold>true</bold><size>11</size><family>Courier New</family></content>

<content start="213" end="277">
<size>11</size><family>Courier New</family></content>

<content start="277" end="278">
<size>11</size></content>

</paragraph>
<paragraph start="278" end="279">
<LeftIndent>140.0</LeftIndent>
<content start="278" end="279">
<size>11</size></content>

</paragraph>
<paragraph start="279" end="330">
<LeftIndent>140.0</LeftIndent>
<content start="279" end="330">
<size>11</size></content>

</paragraph>
<paragraph start="330" end="331">
<LeftIndent>140.0</LeftIndent>
<content start="330" end="331">
<size>11</size><family>Courier New</family></content>

</paragraph>
<paragraph start="331" end="383">
<LeftIndent>160.0</LeftIndent>
<content start="331" end="332">
<icon>org.concord.modeler.text.BulletIcon$SquareBulletIcon</icon></content>

<content start="332" end="334">
</content>

<content start="334" end="383">
<size>11</size><family>Courier New</family></content>

</paragraph>
<paragraph start="383" end="407">
<LeftIndent>160.0</LeftIndent>
<content start="383" end="384">
<icon>org.concord.modeler.text.BulletIcon$SquareBulletIcon</icon></content>

<content start="384" end="386">
</content>

<content start="386" end="406">
<size>11</size><family>Courier New</family></content>

<content start="406" end="407">
<size>11</size></content>

</paragraph>
<paragraph start="407" end="408">
<LeftIndent>140.0</LeftIndent>
<content start="407" end="408">
<size>11</size></content>

</paragraph>
<paragraph start="408" end="711">
<LeftIndent>140.0</LeftIndent>
<content start="408" end="414">
<size>11</size></content>

<content start="414" end="417">
<size>11</size><family>Courier New</family></content>

<content start="417" end="422">
<size>11</size></content>

<content start="422" end="425">
<size>11</size><family>Courier New</family></content>

<content start="425" end="458">
<size>11</size></content>

<content start="458" end="464">
<size>11</size><family>Courier New</family></content>

<content start="464" end="529">
<size>11</size></content>

<content start="529" end="530">
<size>11</size><family>Courier New</family></content>

<content start="530" end="535">
<size>11</size></content>

<content start="535" end="536">
<size>11</size><family>Courier New</family></content>

<content start="536" end="619">
<size>11</size></content>

<content start="619" end="620">
<size>11</size><family>Courier New</family></content>

<content start="620" end="625">
<size>11</size></content>

<content start="625" end="626">
<size>11</size><family>Courier New</family></content>

<content start="626" end="711">
<size>11</size></content>

</paragraph>
<paragraph start="711" end="712">
<LeftIndent>140.0</LeftIndent>
<content start="711" end="712">
<size>11</size></content>

</paragraph>
<paragraph start="712" end="764">
<LeftIndent>160.0</LeftIndent>
<content start="712" end="763">
<size>11</size><family>Courier New</family></content>

<content start="763" end="764">
<size>11</size></content>

</paragraph>
<paragraph start="764" end="765">
<LeftIndent>140.0</LeftIndent>
<content start="764" end="765">
<size>11</size></content>

</paragraph>
<paragraph start="765" end="876">
<LeftIndent>140.0</LeftIndent>
<content start="765" end="771">
<size>11</size></content>

<content start="771" end="777">
<size>11</size><family>Courier New</family></content>

<content start="777" end="782">
<size>11</size></content>

<content start="782" end="789">
<size>11</size><family>Courier New</family></content>

<content start="789" end="858">
<size>11</size></content>

<content start="858" end="874">
<size>11</size><href>script_variable.cml</href></content>

<content start="874" end="876">
<size>11</size></content>

</paragraph>
<paragraph start="876" end="877">
<LeftIndent>140.0</LeftIndent>
<content start="876" end="877">
<size>11</size></content>

</paragraph>
<paragraph start="877" end="1157">
<LeftIndent>140.0</LeftIndent>
<content start="877" end="961">
<size>11</size></content>

<content start="961" end="965">
<bold>true</bold><size>11</size></content>

<content start="965" end="994">
<size>11</size></content>

<content start="994" end="997">
<size>11</size><family>Courier New</family></content>

<content start="997" end="1075">
<size>11</size></content>

<content start="1075" end="1078">
<size>11</size><family>Courier New</family></content>

<content start="1078" end="1093">
<size>11</size></content>

<content start="1093" end="1099">
<size>11</size><family>Courier New</family></content>

<content start="1099" end="1156">
<size>11</size></content>

<content start="1156" end="1157">
</content>

</paragraph>
<paragraph start="1157" end="1158">
<LeftIndent>140.0</LeftIndent>
<content start="1157" end="1158">
</content>

</paragraph>
<paragraph start="1158" end="1160">
<LeftIndent>140.0</LeftIndent>
<content start="1158" end="1159">
<icon><class>org.concord.modeler.text.LineIcon</class><width>0.8</width><SpaceAbove>2</SpaceAbove><SpaceBelow>2</SpaceBelow><opaque>false</opaque><bgcolor>-1000000</bgcolor></icon></content>

<content start="1159" end="1160">
</content>

</paragraph>
<paragraph start="1160" end="1306">
<LeftIndent>200.0</LeftIndent>
<RightIndent>100.0</RightIndent>
<content start="1160" end="1172">
<bold>true</bold><size>11</size></content>

<content start="1172" end="1295">
<size>11</size></content>

<content start="1295" end="1304">
<size>11</size><href>element_id.cml</href></content>

<content start="1304" end="1305">
<size>11</size></content>

<content start="1305" end="1306">
</content>

</paragraph>
<paragraph start="1306" end="1308">
<LeftIndent>140.0</LeftIndent>
<content start="1306" end="1307">
<icon><class>org.concord.modeler.text.LineIcon</class><width>0.8</width><SpaceAbove>2</SpaceAbove><SpaceBelow>2</SpaceBelow><opaque>false</opaque><bgcolor>-1000000</bgcolor></icon></content>

<content start="1307" end="1308">
</content>

</paragraph>
<paragraph start="1308" end="1309">
<LeftIndent>140.0</LeftIndent>
<content start="1308" end="1309">
</content>

</paragraph>
<paragraph start="1309" end="1510">
<LeftIndent>140.0</LeftIndent>
<content start="1309" end="1510">
<size>11</size></content>

</paragraph>
<paragraph start="1510" end="1511">
<LeftIndent>140.0</LeftIndent>
<content start="1510" end="1511">
</content>

</paragraph>
<paragraph start="1511" end="1513">
<LeftIndent>140.0</LeftIndent>
<content start="1511" end="1512">
<icon><class>org.concord.modeler.text.LineIcon</class><width>0.8</width><SpaceAbove>2</SpaceAbove><SpaceBelow>2</SpaceBelow><opaque>false</opaque><bgcolor>-1000000</bgcolor></icon></content>

<content start="1512" end="1513">
</content>

</paragraph>
<paragraph start="1513" end="1576">
<LeftIndent>200.0</LeftIndent>
<RightIndent>100.0</RightIndent>
<content start="1513" end="1517">
<foreground>255 0 0</foreground><bold>true</bold><size>11</size></content>

<content start="1517" end="1526">
<size>11</size></content>

<content start="1526" end="1534">
<size>11</size><href>recordSimulation.cml</href></content>

<content start="1534" end="1576">
<size>11</size></content>

</paragraph>
<paragraph start="1576" end="1680">
<LeftIndent>200.0</LeftIndent>
<RightIndent>100.0</RightIndent>
<content start="1576" end="1583">
<foreground>255 0 0</foreground><bold>true</bold><size>11</size></content>

<content start="1583" end="1674">
<size>11</size></content>

<content start="1674" end="1678">
<size>11</size><href>script_loop.cml</href></content>

<content start="1678" end="1679">
<size>11</size></content>

<content start="1679" end="1680">
</content>

</paragraph>
<paragraph start="1680" end="1682">
<LeftIndent>140.0</LeftIndent>
<content start="1680" end="1681">
<icon><class>org.concord.modeler.text.LineIcon</class><width>0.8</width><SpaceAbove>2</SpaceAbove><SpaceBelow>2</SpaceBelow><opaque>false</opaque><bgcolor>-1000000</bgcolor></icon></content>

<content start="1681" end="1682">
<size>11</size></content>

</paragraph>
<paragraph start="1682" end="1683">
<LeftIndent>140.0</LeftIndent>
<content start="1682" end="1683">
<size>11</size></content>

</paragraph>
<paragraph start="1683" end="1865">
<LeftIndent>140.0</LeftIndent>
<content start="1683" end="1865">
<size>11</size></content>

</paragraph>
<paragraph start="1865" end="1866">
<LeftIndent>140.0</LeftIndent>
<content start="1865" end="1866">
<size>11</size></content>

</paragraph>
<paragraph start="1866" end="1868">
<LeftIndent>140.0</LeftIndent>
<Alignment>1</Alignment>
<content start="1866" end="1867">
<component><class>org.concord.mw2d.activity.AtomContainer</class>
<resource>script_pcf$0.mml</resource><menubar>false</menubar></component></content>

<content start="1867" end="1868">
</content>

</paragraph>
<paragraph start="1868" end="1870">
<LeftIndent>140.0</LeftIndent>
<Alignment>1</Alignment>
<content start="1868" end="1869">
<component><class>org.concord.modeler.PageButton</class>
<title>Show Nt-Nt PCFs in the left part, the right part and the whole container</title>
<tooltip>Show Nt-Nt PCFs in the left part, the right part and the whole container</tooltip>
<border>Raised Bevel</border>
<modelclass>org.concord.mw2d.models.MolecularModel</modelclass>
<model>0</model>
<disabled_at_script>true</disabled_at_script>
<script>pcf 0 0 6 within (1, 1, &quot;0.5*%width-2&quot;, &quot;%height-2&quot;) and 0 0 6 within (&quot;0.5*%width+1&quot;, 1, &quot;0.5*%width-2&quot;, &quot;%height-2&quot;) and 0 0 6;</script>
<action>Execute MW script</action>
</component></content>

<content start="1869" end="1870">
</content>

</paragraph>
<paragraph start="1870" end="1903">
<LeftIndent>140.0</LeftIndent>
<Alignment>1</Alignment>
<content start="1870" end="1902">
<size>10</size></content>

<content start="1902" end="1903">
</content>

</paragraph>
<paragraph start="1903" end="1904">
<LeftIndent>140.0</LeftIndent>
<content start="1903" end="1904">
</content>

</paragraph>
<paragraph start="1904" end="2355">
<LeftIndent>140.0</LeftIndent>
<content start="1904" end="2355">
<size>11</size></content>

</paragraph>
<paragraph start="2355" end="2356">
<LeftIndent>140.0</LeftIndent>
<content start="2355" end="2356">
</content>

</paragraph>
<paragraph start="2356" end="2388">
<LeftIndent>140.0</LeftIndent>
<content start="2356" end="2387">
<bold>true</bold><size>11</size></content>

<content start="2387" end="2388">
</content>

</paragraph>
<paragraph start="2388" end="2389">
<LeftIndent>140.0</LeftIndent>
<content start="2388" end="2389">
</content>

</paragraph>
<paragraph start="2389" end="3136">
<LeftIndent>140.0</LeftIndent>
<content start="2389" end="2491">
<size>11</size></content>

<content start="2491" end="2597">
<bold>true</bold><size>11</size></content>

<content start="2597" end="3136">
<size>11</size></content>

</paragraph>
<paragraph start="3136" end="3137">
<LeftIndent>140.0</LeftIndent>
<content start="3136" end="3137">
</content>

</paragraph>
<paragraph start="3137" end="3139">
<LeftIndent>140.0</LeftIndent>
<Alignment>1</Alignment>
<content start="3137" end="3138">
<component><class>org.concord.mw2d.activity.AtomContainer</class>
<resource>script_pcf$1.mml</resource><menubar>false</menubar></component></content>

<content start="3138" end="3139">
</content>

</paragraph>
<paragraph start="3139" end="3141">
<LeftIndent>140.0</LeftIndent>
<Alignment>1</Alignment>
<content start="3139" end="3140">
<component><class>org.concord.modeler.PageButton</class>
<title>Compare the PCFs for the cut-out area and for the whole area</title>
<tooltip>Compare the PCFs for the cut-out area and for the whole area</tooltip>
<border>Raised Bevel</border>
<modelclass>org.concord.mw2d.models.MolecularModel</modelclass>
<model>1</model>
<disabled_at_script>true</disabled_at_script>
<script>pcf 1 1 6 within (6, 5, &quot;%width-12&quot;, &quot;%height-10&quot;) and 1 1 6;</script>
<action>Execute MW script</action>
</component></content>

<content start="3140" end="3141">
</content>

</paragraph>
<paragraph start="3141" end="3174">
<LeftIndent>140.0</LeftIndent>
<Alignment>1</Alignment>
<content start="3141" end="3173">
<size>10</size></content>

<content start="3173" end="3174">
</content>

</paragraph>
<paragraph start="3174" end="3175">
<LeftIndent>140.0</LeftIndent>
<content start="3174" end="3175">
</content>

</paragraph>
<paragraph start="3175" end="3493">
<LeftIndent>140.0</LeftIndent>
<content start="3175" end="3492">
<size>11</size></content>

<content start="3492" end="3493">
</content>

</paragraph>
<paragraph start="3493" end="3494">
<LeftIndent>140.0</LeftIndent>
<content start="3493" end="3494">
</content>

</paragraph>
<paragraph start="3494" end="3522">
<RightIndent>20.0</RightIndent>
<Alignment>2</Alignment>
<content start="3494" end="3496">
<size>11</size></content>

<content start="3496" end="3504">
<size>11</size><href>script_lap.cml</href></content>

<content start="3504" end="3507">
<size>11</size></content>

<content start="3507" end="3512">
<size>11</size><href>mwscripts.cml</href></content>

<content start="3512" end="3515">
<size>11</size></content>

<content start="3515" end="3519">
<size>11</size><href>script_tcf.cml</href></content>

<content start="3519" end="3521">
<size>11</size></content>

</paragraph>
</section>
</document>