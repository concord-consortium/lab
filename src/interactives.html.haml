!!! 5
%html
  %head
    %meta{:content => "text/html;charset=utf-8", "http-equiv" => "Content-Type"}/
    %meta{:content => "IE=edge,chrome=1", "http-equiv" => "X-UA-Compatible"}/
    %title Interactive Browser
    = FONTFACE_LINK
    %link{:href => "vendor/codemirror/lib/codemirror.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "vendor/jquery-ui/jquery-ui.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "vendor/jquery-context-menu/jquery.contextMenu.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "vendor/jquery-selectBoxIt/jquery.selectBoxIt.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "interactives.css", :rel => "stylesheet", :type => "text/css"}/
    %script{:src => "vendor/modernizr/modernizr.js", :type => "text/javascript"}
    %script{:type => "text/javascript"}
      if (!Modernizr.svg) { window.location = 'browser-upgrade.html'; }
    = LAB_JS_DEPENDENCIES
    = LAB_JS_ADDITIONAL_DEPENDENCIES
    = ANALYTICS
  %body
    #header
      %a#logo{:href => "http://www.concord.org/"}
        %img{:src => "resources/layout/cc-logo.png"}/
      .row
        %h1<
          %a(href='index.html')> Lab
          \:
          %a(href="") Interactive Browser

        %span.title additional links:
        %a#embeddable-link{:href => "embeddable.html", :class => "opens-in-new-window", :target => "_blank"} Embeddable
        %a#datagames-link{:href => "embeddable.html", :class => "opens-in-new-window", :target => "_blank"} DataGames
        %a#original-import-link{:href => "", :class => "opens-in-new-window", :target => "_blank"} Original Imported Model

      .row
        %span.title select Interactive:
        %select#select-interactive
        %form#render-controls.controls
          %span.title render in:
          %label{:for => 'render-in-iframe'}
            iframe
            %input#render-in-iframe.serialize{:type => :checkbox, :name => 'render-in-iframe', :checked => 'checked'}
          %span.title size:
          %select#select-interactive-size.serialize{:name => "select-interactive-size"}
            %option{:value => "tiny"} tiny
            %option{:value => "small"} small
            %option{:value => "medium"} medium
            %option{:value => "large", :selected => "selected"} large

      .row
        %form#interactive-controls
          #select-filters.controls
            %span.title categories:
            %label{:for => 'curriculum-filter'}
              Curriculum
              %input#curriculum-filter.serialize{:type => :checkbox, :name => 'curriculum-filter', :checked => 'checked'}
            %label{:for => 'examples-filter'}
              Examples
              %input#examples-filter.serialize{:type => :checkbox, :name => 'examples-filter'}
            %label{:for => 'tests-filter'}
              Tests
              %input#tests-filter.serialize{:type => :checkbox, :name => 'tests-filter'}
            %label{:for => 'benchmarks-filter'}
              Benchmarks
              %input#benchmarks-filter.serialize{:type => :checkbox, :name => 'benchmarks-filter'}

            %span.title publication status:
            %label{:for => 'public'}
              Public
              %input#public.serialize{:type => :checkbox, :name => 'public', :checked => "checked"}
            %label{:for => 'draft'}
              Draft*
              %input#draft.serialize{:type => :checkbox, :name => 'draft'}
            %label{:for => 'broken'}
              Broken**
              %input#broken.serialize{:type => :checkbox, :name => 'broken'}

    #interactive-header
      #interactive-forward-back
        %span#previous-interactive.arrow previous
        %span#next-interactive.arrow next
      #interactive-title
    #interactive-error-dialog
    #content.standard-interactive-layout
      #responsive-content
        #interactive-container{:tabindex => 0}
        #firefox-warning-pane.warning-pane
          %p
            %a(href='http://blog.concord.org/serious-performance-regression-in-firefox-18-and-newer' class='opens-in-new-window' target='_blank') Firefox v18-22 performance issue ...
    #extras-bottom
      #extras-bottom-banner Extras

      %ul#sortable-extras.sortable
        %li#editor.extras-item.ui-state-default
          .extras-item-banner
            %input#show-editor{:type => "checkbox", :checked => false}
            %label{:for => "show-editor"} Interactive Editor
          #editor-content.extras-item-content
            .extras-item-controls
              .save-interactive-form
                %form
                  %p
                    %label{:for => "save-interactive-title"} Interactive Title
                    %input.save-interactive-title#text#ui-widget-content#ui-corner-all{:type => "text"}
                  %p
                    %label{:for => "select-interactive-groups"} Select the Interactive Group
                    %select#select-interactive-groups
              %button#save-interactive-button Save
              %button#save-as-interactive-button Save As
              %button#update-interactive-button Update Interactive
              %button#update-json-from-interactive-button Update JSON from Interactive
              %button.right#autoformat-interactive-json-button AutoFormat
            %textarea#interactive-text-area

        %li#model-editor.extras-item.ui-state-default
          .extras-item-banner
            %input#show-model-editor{:type => "checkbox", :checked => false}
            %label{:for => "show-model-editor"} Model Editor
          #model-editor-content.extras-item-content
            .extras-item-controls
              %button#save-model-button Save
              %button#update-model-button Update Model
              %button#update-json-from-model-button Update JSON from Model
              %a#json-model-link{:href => "", :class => "opens-in-new-window", :target => "_blank"} Model JSON
              %a#original-model-link{:href => "",  :class => "opens-in-new-window", :target => "_blank"} Original Model
              %button.right#autoformat-model-json-button AutoFormat
            %textarea#model-text-area

        %li#model-energy-graph.extras-item.ui-state-default
          .extras-item-banner
            %input#show-model-energy-graph{:type => "checkbox", :checked => false}
            %label{:for => "show-model-energy-graph"} Energy Graph
          #model-energy-graph-content.extras-item-content
            #model-energy-graph-chart.ke-chart.graph

        %li#model-datatable.extras-item.ui-state-default
          .extras-item-banner
            %input#show-model-datatable{:type => "checkbox", :checked => false}
            %label{:for => "show-model-datatable"} Atoms Datatable
          #model-datatable-content.extras-item-content
            #model-datatable-stats.extras-item-controls
            .model-datatable-results
              %table#model-datatable-results
                %thead
                %tbody

        %li#benchmark.extras-item.ui-state-default
          .extras-item-banner
            %input#show-benchmarks{:type => "checkbox", :checked => false}
            %label{:for => "show-benchmarks"} Benchmarks
          #benchmarks-content.extras-item-content
            .extras-item-controls
              %button#run-benchmarks-button.extras-item-controls Run Benchmarks
              .extras-item-description
                Collect performance data by running 100 steps: first just the graphics, then
                just the model, and finally the model and graphics together.
                First row contains averaged values from all runs.
            .model-benchmark-results
              %table#model-benchmark-results.model-benchmark-results

        %li#snapshot.extras-item.ui-state-default
          .extras-item-banner
            %input#show-snapshot{:type => "checkbox", :checked => false}
            %label{:for => "show-snapshot"}
              %i.icon-camera-retro
              SnapShots
          #snapshot-content.extras-item-content
            .extras-item-controls
              %button#export_interactive
                snapshot interactive
            .extras-item-description
              take a screen capture of your model or interactive.
            #image_output
              (no snapshot taken yet)

    = LAB_JS
    %script{:src => "imports/legacy-mw-content/model-list.js", :type => "text/javascript"}
    %script{:src => "application.js", :type => "text/javascript"}
    %script{:src => "shutterbug/shutterbug.js", :type => "text/javascript"}

